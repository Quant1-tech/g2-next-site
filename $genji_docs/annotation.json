{"markdown":"# Annotation\n\n## Text Annotation\n\n```js\nG2.render({\n  type: 'view',\n  width: 640,\n  transform: [\n    {\n      type: 'fetch',\n      url: 'https://gw.alipayobjects.com/os/antfincdn/ulQpndlrT%26/line.json',\n    },\n  ],\n  scale: {\n    x: { nice: true, tickCount: 15 },\n    y: { guide: null },\n  },\n  children: [\n    {\n      type: 'line',\n      encode: {\n        x: (d) => new Date(d.date),\n        y: 'value',\n      },\n    },\n    {\n      type: 'annotation.text',\n      transform: [\n        {\n          type: 'filterBy',\n          fields: ['date'],\n          callback: (d) => d === 'March 2008' || d === 'March 2019',\n        },\n      ],\n      encode: {\n        x: (d) => new Date(d.date),\n        y: 'value',\n        text: (d) =>\n          d.date === 'March 2019'\n            ? 'The most visits were in March 2019 with 8.30M in total'\n            : 'There was a drop in number of visits in early 2008 which have been due to The Greet Recession',\n      },\n      style: {\n        fill: 'black',\n        fontSize: 10,\n        textAlign: 'right',\n        textBaseline: 'middle',\n        dy: 8,\n        dx: -20,\n        wordWrap: true,\n        wordWrapWidth: 100,\n        connector: { lineDash: [2, 1], stroke: '#416180', lineWidth: 1 },\n        background: {\n          fill: '#FFF',\n          padding: [2, 2],\n        },\n      },\n    },\n  ],\n});\n```\n\n## Badge Annotation\n\n```js\nG2.render(\n  {\n    type: 'view',\n    width: 640,\n    transform: [\n      {\n        type: 'fetch',\n        url: 'https://gw.alipayobjects.com/os/antfincdn/jjAX4HPWB9/sales.json',\n      },\n    ],\n    scale: {\n      x: { nice: true, tickCount: 15 },\n      y: { guide: null },\n      color: { guide: null },\n    },\n    children: [\n      {\n        type: 'line',\n        encode: {\n          x: (d) => new Date(d.date),\n          y: 'sales',\n          color: 'fruit',\n        },\n      },\n      {\n        type: 'annotation.text',\n        encode: {\n          x: (d) => new Date(d.date),\n          y: 'sales',\n          text: 'sales',\n          color: 'fruit',\n          shape: 'annotation.badge',\n        },\n        style: {\n          size: 20,\n        },\n      },\n    ],\n  },\n  {},\n);\n```\n\n## Connector Annotation\n\n```js\nG2.render(\n  {\n    type: 'view',\n    height: 300,\n    data: [\n      { genre: 'Sports', sold: 275 },\n      { genre: 'Strategy', sold: 115 },\n      { genre: 'Action', sold: 120 },\n      { genre: 'Shooter', sold: 150 },\n      { genre: 'Other', sold: 350 },\n    ],\n    children: [\n      {\n        type: 'interval',\n        encode: {\n          x: 'genre',\n          y: 'sold',\n          color: 'genre',\n        },\n      },\n      {\n        type: 'annotation.connector',\n        data: [\n          { x1: 'Strategy', x2: 'Action', y1: 115, y2: 120 },\n          { x1: 'Other', x2: 'Shooter', y1: 350, y2: 150 },\n        ],\n        encode: {\n          x: ['x1', 'x2'],\n          y: ['y1', 'y2'],\n        },\n        style: {\n          stroke: '#979797',\n        },\n      },\n    ],\n  },\n  {},\n);\n```\n"}